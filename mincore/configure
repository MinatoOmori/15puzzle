#!/bin/bash

usage(){
cat <<EOF
Usage $0 [VAR=VALUE]...

Variables:
  RV32_GCC      path to gcc configured for rv32i
  RV32_OBJCOPY  path to objcopy configured for rv32i

EOF
exit 0
}

RV32_GCC=
RV32_OBJCOPY=

for arg;
do
  case "$arg" in
    --help|-h) usage;;
    RV32_GCC=*) RV32_GCC=$(realpath ${arg#*=});;
    RV32_OBJCOPY=*) RV32_OBJCOPY=$(realpath ${arg#*=});;
    *) echo -e "unknown arg $arg\n"; usage;;
  esac
done

exec 1>config.mak

cat <<EOF
# generated by $0
RV32_GCC = $RV32_GCC
RV32_OBJCOPY = $RV32_OBJCOPY
EOF
